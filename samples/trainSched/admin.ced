'/bootstrap':signature(defined(Term)::'/javascript/statepred':statePred,[Term::'/javascript/jsLogic':jsExpr]).
'/javascript/statepred':def(defined(Term),Action,Finally,'/javascript/jsLogic':jsCommand(['/javascript':if('/javascript/jsLogic':inlineTerm(Term::'/javascript/jsLogic':jsExpr),['/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Action))],[]),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Finally))])).
'/bootstrap':signature(allTrains(DB)::'/cedalionWeb/crud':model(train,'/Functional':pairType('/bootstrap':string,'/bootstrap':string)),[DB::'/bootstrap':string]).
annotation:shrink('/javascript/statepred':setDef('/cedalionWeb/crud':elements(allTrains(DB)),'/Functional':pairType('/Functional':pairType('/bootstrap':string,'/bootstrap':string),train),'/javascript/statepred':set('/Functional':pair('/Functional':pair(ID,Rev),Train),'/javascript/statepred':conj('/javascript/statepred':stateEval('/cedalionWeb/node':dot('/cedalionWeb/node':json('/cedalionWeb/node':get('/javascript/statepred':expr('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':const(!'http://localhost:5984/'),'/Functional':concat,'/Functional':const(DB)),'/Functional':concat,'/Functional':const(!'/_all_docs'))))),!rows),'/javascript/jsLogic':jsExpr,Rows),'/javascript/statepred':conj(arrayElement(Rows,Row),'/javascript/statepred':conj('/javascript/statepred':stateEval('/cedalionWeb/node':string('/cedalionWeb/node':dot('/javascript/statepred':expr('/Functional':const(Row)),!id)),'/bootstrap':string,ID),'/javascript/statepred':conj('/javascript/statepred':stateEval('/cedalionWeb/node':string('/cedalionWeb/node':dot('/cedalionWeb/node':dot('/javascript/statepred':expr('/Functional':const(Row)),!value),!rev)),'/bootstrap':string,Rev),'/javascript/statepred':conj('/javascript/statepred':stateEval('/cedalionWeb/node':dot('/cedalionWeb/node':json('/cedalionWeb/node':get('/javascript/statepred':expr('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':const(!'http://localhost:5984/'),'/Functional':concat,'/Functional':const(DB)),'/Functional':concat,'/Functional':const(! (/))),'/Functional':concat,'/Functional':const(ID))))),!term),'/javascript/jsLogic':jsExpr,Term),'/javascript/statepred':conj(defined(Term),annotation:comment('/javascript/statepred':pred(Train::train=trainDef(!'Some Train',[],[])::train),!'Build a state-predicate to put Term in Term')))))))))).
'/bootstrap':projection(trainDef(Name,D,S)::train,'/cedalionWeb/crud':index,'/bootstrap':vis(Name::'/bootstrap':string)).
'/javascript/asyncproc':asyncProc('/cedalionWeb/crud':update(allTrains(DB),'/Functional':pair(ID,Rev),'/Functional':pairType('/bootstrap':string,'/bootstrap':string),Train,train),Then,'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/statepred':whenever('/javascript/statepred':conj('/javascript/statepred':pred(toStruct(Train::train,Struct)),'/cedalionWeb/couchdb':updateDocument('/javascript/statepred':expr('/Functional':const(!'http://localhost:5984')),'/javascript/statepred':expr('/Functional':const(DB)),'/javascript/statepred':expr('/Functional':const(ID)),Rev,Struct)),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure(Then)])))])):-builtin:true.
annotation:shrink('/javascript/statepred':clause('/javascript/statepred':stateEval('/cedalionWeb/crud':createNew(allTrains(DB)),'/Functional':pairType('/Functional':pairType('/bootstrap':string,'/bootstrap':string),train),'/Functional':pair('/Functional':pair(ID,Rev),trainDef(!'[name]',[],[]))),'/javascript/statepred':conj('/javascript/statepred':pred(toStruct(trainDef(!'[name]',[],[])::train,Struct)),'/javascript/statepred':conj('/cedalionWeb/node':http(!'POST','/javascript/statepred':expr('/Functional':applyBinOp('/Functional':const(!'http://localhost:5984/'),'/Functional':concat,'/Functional':const(DB))),'/javascript/jsLogic':jsExpr('/javascript':json(['/javascript':bind('/javascript':str(!'content-type'),'/javascript':str(!'application/json'))])),'/cedalionWeb/node':jsonStringify(Struct),201,_,Response),'/javascript/statepred':conj('/javascript/statepred':stateEval('/cedalionWeb/node':string('/cedalionWeb/node':dot('/cedalionWeb/node':json('/javascript/statepred':expr('/Functional':const(Response))),!id)),'/bootstrap':string,ID),'/javascript/statepred':stateEval('/cedalionWeb/node':string('/cedalionWeb/node':dot('/cedalionWeb/node':json('/javascript/statepred':expr('/Functional':const(Response))),!rev)),'/bootstrap':string,Rev)))))).
'/javascript/asyncproc':asyncProc('/cedalionWeb/crud':delete(allTrains(DB),'/Functional':pair(ID,Rev),'/Functional':pairType('/bootstrap':string,'/bootstrap':string)),Then,'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/statepred':whenever('/cedalionWeb/node':http(!'DELETE','/javascript/statepred':stateApplyBinOp('/javascript/statepred':expr('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':const(!'http://localhost:5984/'),'/Functional':concat,'/Functional':const(DB)),'/Functional':concat,'/Functional':const(! (/))),'/Functional':concat,'/Functional':const(ID))),'/Functional':concat,'/cedalionWeb/node':urlQuery(['/cedalionWeb/node':arg(!rev,'/javascript/statepred':expr('/Functional':const(Rev)))])),'/javascript/jsLogic':jsExpr('/javascript':json([])),'/javascript/statepred':expr('/Functional':const(!'')),200,_,_),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure(Then)])))])):-builtin:true.
'/bootstrap':defAtom(adminPage::'/cedalionWeb/xml':xml).
'/bootstrap':projection(adminPage::'/cedalionWeb/xml':xml,'/bootstrap':label(!'Admin Page')).
'/cedalionWeb/xml':macro(adminPage,'/cedalionWeb/crud':inlineEditor(allTrains(!trainsched_demo),train,'/Functional':pairType('/bootstrap':string,'/bootstrap':string))).
